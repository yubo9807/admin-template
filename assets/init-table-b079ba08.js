var u=Object.defineProperty;var b=(t,a,e)=>a in t?u(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var i=(t,a,e)=>(b(t,typeof a!="symbol"?a+"":a,e),e),p=(t,a,e)=>{if(!a.has(t))throw TypeError("Cannot "+e)};var n=(t,a,e)=>(p(t,a,"read from private field"),e?e.call(t):a.get(t)),h=(t,a,e)=>{if(a.has(t))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(t):a.set(t,e)},o=(t,a,e,g)=>(p(t,a,"write to private field"),g?g.call(t,e):a.set(t,e),e);import{G as m,a8 as f,a9 as z,d as D,Q as d}from"./index-514e8150.js";var s,r;class N{constructor(a,e=()=>f(Promise.resolve())){h(this,s,{});h(this,r,void 0);i(this,"paging",m({pageNumber:1,pageSize:10,total:0}));i(this,"onCurrentChange",a=>{this.paging.pageNumber=a,this.initData()});i(this,"onSizeChange",a=>{this.paging.pageSize=a,this.initData()});i(this,"pagingIndex",a=>z(this.paging.pageNumber,this.paging.pageSize,a));i(this,"form");i(this,"search",()=>{this.paging.pageNumber=1,Promise.resolve().then(this.initData)});i(this,"reset",()=>{for(const a in n(this,s))this.form[a]=n(this,s)[a];this.search()});i(this,"tableData",D([]));i(this,"initData",async()=>{const a=d({...this.form,currentPage:this.paging.pageNumber,pageSize:this.paging.pageSize}),[e,g]=await n(this,r).call(this,a);if(e){this.tableData.value=[],this.paging.total=0;return}const{data:c,totalCount:l}=g.data;this.tableData.value=c,this.paging.total=l});o(this,s,Object.freeze(a)),this.form=m(Object.assign({},n(this,s))),o(this,r,e)}}s=new WeakMap,r=new WeakMap;export{N as I};
