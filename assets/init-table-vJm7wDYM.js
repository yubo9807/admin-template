var b=Object.defineProperty;var p=t=>{throw TypeError(t)};var f=(t,a,e)=>a in t?b(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var i=(t,a,e)=>f(t,typeof a!="symbol"?a+"":a,e),m=(t,a,e)=>a.has(t)||p("Cannot "+e);var n=(t,a,e)=>(m(t,a,"read from private field"),e?e.call(t):a.get(t)),h=(t,a,e)=>a.has(t)?p("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(t):a.set(t,e),o=(t,a,e,g)=>(m(t,a,"write to private field"),g?g.call(t,e):a.set(t,e),e);import{D as c,a5 as D,a6 as z,d,N}from"./index-BdMlZRHv.js";var s,r;class y{constructor(a,e=()=>D(Promise.resolve())){h(this,s,{});h(this,r);i(this,"paging",c({pageNumber:1,pageSize:10,total:0}));i(this,"onCurrentChange",a=>{this.paging.pageNumber=a,this.initData()});i(this,"onSizeChange",a=>{this.paging.pageSize=a,this.initData()});i(this,"pagingIndex",a=>z(this.paging.pageNumber,this.paging.pageSize,a));i(this,"form");i(this,"search",()=>{this.paging.pageNumber=1,Promise.resolve().then(this.initData)});i(this,"reset",()=>{for(const a in n(this,s))this.form[a]=n(this,s)[a];this.search()});i(this,"tableData",d([]));i(this,"initData",async()=>{const a=N({...this.form,currentPage:this.paging.pageNumber,pageSize:this.paging.pageSize}),[e,g]=await n(this,r).call(this,a);if(e){this.tableData.value=[],this.paging.total=0;return}const{data:l,totalCount:u}=g.data;this.tableData.value=l,this.paging.total=u});o(this,s,Object.freeze(a)),this.form=c(Object.assign({},n(this,s))),o(this,r,e)}}s=new WeakMap,r=new WeakMap;export{y as I};
